# FPY Beta Decay for TALYS Output

This repository provides Python tools to calculate **cumulative fission product yields**, as well as **decay heat** and **delayed neutron yields** as a function of cooling time, using **independent fission product yields** generated by [TALYS](https://nds.iaea.org/talys/) and evaluated nuclear decay data.

Example input file:  
[`u235_yieldZA1.00E-06.fis`](https://github.com/shinokumura/FPY_betadecay/blob/main/src/fpy_betadecay/Sample_FPY_Files/u235_yieldZA1.00E-06.fis.gef)

---

## üß™ 1. Run TALYS FPY Calculation

To generate independent FPY data, use [TALYS](https://nds.iaea.org/talys/) with an input similar to the following:

```text
projectile n
element    U
mass       235
energy     1.00E-6
ejectiles  g n
massdis    y
fymodel    4
ffmodel    2
elow       1.e-6
Rfiseps    1.e-3
outspectra y
bins       60
channels   n
maxchannel 8
```

üìò See: [K. Fujio et al., IAEA-NDS-0239 (2022)](https://doi.org/10.61092/iaea.gt8c-xz0h)

---

## üì¶ 2. Installation

### Option A: From GitHub (Recommended)

Install the package directly from the GitHub repository:

```bash
pip install git+https://github.com/shinokumura/fpy_betadecay
```

### Option B: Clone and Install Manually

```bash
git clone https://github.com/shinokumura/fpy_betadecay.git
cd fpy_betadecay
pip install -r requirements.txt
```

---

## ‚öôÔ∏è 3. Configuration

Modify paths and library names in `src/fpy_betadecay/config.py` to match your environment. Example:

```python
DECAY_DATA_LIBS = {
    "ENDF8.0": {
        "ENDF-6": "/path/to/ENDF/ENDFdecay/",
        "SimpleENDF": f"{BASE_DIR}/DecayData/SimpleENDF/ENDFDD-BVII.py.dat",
        "JSON": f"{BASE_DIR}/DecayData/JSON/ENDFDD-BVII0.json",
    }
}
```

---

## üîÑ 4. Convert ENDF Decay Data to JSON

To convert decay data from ENDF-6 format into a simplified JSON format:

```bash
fpy-betadecay -conv ENDF8.0
```

Ensure that `"ENDF8.0"` is registered in `DECAY_DATA_LIBS` in `config.py`.

---

## üìà 5. Run FPY Decay Calculation

Use the TALYS-converted file and a registered decay data library:

```bash
fpy-betadecay -calc Sample_FPY_Files/conv-fpy_U235_JENDL5.0.dat -dd JENDL5.0
```

- `-calc`: Path to converted FPY data file.
- `-dd`: Decay data library key (must exist in `DECAY_DATA_LIBS`).

---

## üìù License

This code is distributed under the MIT license with an IAEA clause.  
See the [LICENSE.md](LICENSE.md) file for details.

¬© International Atomic Energy Agency (IAEA)

